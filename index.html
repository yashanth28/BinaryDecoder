<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Binary Decoder Practice</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="nor.js" defer></script>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/bd52c29e06.js" crossorigin="anonymous"></script>
</head>

<body onload="generateDecoderQuestion()">
    <div class="canvas-table-wrapper">
        <div class="container">
            <div id="practice" class="justify-center flex-column">
                <div id="nav">
                    <div class="nav-item">Practice Binary Decoder
                        <button id="help-button">
                            <i class="fa-regular fa-question-circle"></i>
                        </button>
                    </div>
                    <a href="decoder.html" class="nav-item">Draw Binary Decoder</a>
                </div>

                <canvas id="myCanvas" width="700" height="470"></canvas>
                <button id="toggle-truth-table" class="btn1">Show Truth Table</button>

                <div class="table-wrapper hidden" id="truth-table">
                    <h2>3-to-8 Decoder Truth Table</h2>
                    <table class="truth-table">
                        <thead>
                            <tr>
                                <th colspan="3">Inputs</th>
                                <th colspan="8">Outputs</th>
                            </tr>
                            <tr>
                                <th>A</th>
                                <th>B</th>
                                <th>C</th>
                                <th>Y₇</th>
                                <th>Y₆</th>
                                <th>Y₅</th>
                                <th>Y₄</th>
                                <th>Y₃</th>
                                <th>Y₂</th>
                                <th>Y₁</th>
                                <th>Y₀</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td></tr>
                            <tr><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td></tr>
                            <tr><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td></tr>
                            <tr><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td></tr>
                            <tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                            <tr><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                            <tr><td>1</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                            <tr><td>1</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                        </tbody>

                    </table>
                </div>

                <div class="table-wrapper hidden" id="truth-table">
                    <h2>2-to-4 Decoder Truth Table</h2>
                    <table class="truth-table-2">
                        <thead>
                            <tr>
                                <th colspan="2">Inputs</th>
                                <th colspan="4">Outputs</th>
                            </tr>
                            <tr>
                                <th>A</th>
                                <th>B</th>
                                <th>Y₃</th>
                                <th>Y₂</th>
                                <th>Y₁</th>
                                <th>Y₀</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td></tr>
                            <tr><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td></tr>
                            <tr><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td></tr>
                            <tr><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="btn-grid">
                    <div class="option-container">
                        <p class="option-text" data-number="1" id="option1" onclick="checkAnswer(this)">m0</p>
                    </div>
                    <div class="option-container">
                        <p class="option-text" data-number="2" id="option2" onclick="checkAnswer(this)">m1</p>
                    </div>
                    <div class="option-container">
                        <p class="option-text" data-number="3" id="option3" onclick="checkAnswer(this)">m2</p>
                    </div>
                    <div class="option-container">
                        <p class="option-text" data-number="4" id="option4" onclick="checkAnswer(this)">m3</p>
                    </div>
                </div>
                
                <button id="new" class="btn" onclick="generateDecoderQuestion()">NEW CIRCUIT</button>
            </div>
        </div>
    </div>
</body>

<dialog class="modal" id="modal">
    <button class="close-button">
        <i class="fa-solid fa-x"></i>
    </button>
    <p style="text-decoration: underline;color: rgb(255, 202, 51);">Binary Decoder Practice</p>
    <p style="font-size: 2rem;">Select the correct answer for the given decoder circuit</p>
    <ul class="instructions">
        <li>Random decoder circuits with 2-3 inputs will be shown</li>
        <li>Select the correct term value from the options</li>
        <li>For n inputs, term values range from 0 to 2^n-1</li>
        <li>2 inputs: values 0-3</li>
        <li>3 inputs: values 0-7</li>
        <li>The correct option will be highlighted in green</li>
        <li>The wrong option will be highlighted in red</li>
        <li>Click the blue 'NEW CIRCUIT' button for another random circuit</li>
    </ul>
</dialog>

<script>
    const modal = document.querySelector(".modal");
    const openModal = document.querySelector("#help-button");
    const closeModal = document.querySelector(".close-button");

    openModal.addEventListener("click", () => {
        modal.showModal();
    });

    closeModal.addEventListener("click", () => {
        modal.close();
    });
</script>

</html>
